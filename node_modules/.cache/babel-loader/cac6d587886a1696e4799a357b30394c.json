{"ast":null,"code":"var _jsxFileName = \"/Users/homer/ignite/src/CanvasLayout.js\";\nimport React from \"react\";\nimport _ from \"lodash\";\nimport { Responsive, WidthProvider } from \"react-grid-layout\";\nimport \"./css/react-grid-layout-style.css\";\nimport \"./css/react-resizable-style.css\";\nimport { PlusCircle } from \"react-bootstrap-icons\";\nimport NavBar from \"./Components/NavBar\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ResponsiveReactGridLayout = WidthProvider(Responsive);\n_c = ResponsiveReactGridLayout;\n\nfunction generateLayout() {\n  return _.map(_.range(0, 41), function (item, i) {\n    const width = 12; // width of entire canvas (should ideally be multiple of 4 and 3)\n\n    const y = 4;\n    const w = 3;\n    var h = Math.ceil(Math.random() * 6) + 1; // variability in height\n\n    var x = _.random(0, y - 1) * w % width;\n    return {\n      x: x,\n      y: Math.floor(i / y) * h,\n      w: w,\n      h: h,\n      i: i.toString()\n    };\n  });\n}\n\nexport default class CanvasLayout extends React.Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      currentBreakpoint: \"lg\",\n      compactType: \"vertical\",\n      mounted: false,\n      layouts: {\n        lg: this.props.initialLayout\n      },\n      block: {\n        lg: []\n      }\n    };\n\n    this.onBreakpointChange = breakpoint => {\n      this.setState(prevState => ({\n        currentBreakpoint: breakpoint,\n        block: { ...prevState.block,\n          [breakpoint]: prevState.block[breakpoint] || prevState.block[prevState.currentBreakpoint] || []\n        }\n      }));\n    };\n\n    this.onClearItems = () => {\n      (this.state.block[this.state.currentBreakpoint] || []).forEach(item => {\n        this.onTakeItem(item);\n      });\n      console.log(\"clear\");\n    };\n\n    this.onTakeItem = item => {\n      this.setState(prevState => ({\n        block: { ...prevState.block,\n          [prevState.currentBreakpoint]: prevState.block[prevState.currentBreakpoint].filter(_ref => {\n            let {\n              i\n            } = _ref;\n            return i !== item.i;\n          })\n        },\n        layouts: { ...prevState.layouts,\n          [prevState.currentBreakpoint]: [...prevState.layouts[prevState.currentBreakpoint], item]\n        }\n      }));\n    };\n\n    this.onPutItem = item => {\n      this.setState(prevState => {\n        return {\n          block: { ...prevState.block,\n            [prevState.currentBreakpoint]: [...(prevState.block[prevState.currentBreakpoint] || []), item]\n          },\n          layouts: { ...prevState.layouts,\n            [prevState.currentBreakpoint]: prevState.layouts[prevState.currentBreakpoint].filter(_ref2 => {\n              let {\n                i\n              } = _ref2;\n              return i !== item.i;\n            })\n          }\n        };\n      });\n    };\n\n    this.onLayoutChange = (layout, layouts) => {\n      this.props.onLayoutChange(layout, layouts);\n      this.setState({\n        layouts\n      });\n    };\n\n    this.onNewLayout = () => {\n      this.setState({\n        layouts: {\n          lg: generateLayout(),\n          md: generateLayout(),\n          sm: generateLayout(),\n          xs: generateLayout(),\n          xxs: generateLayout()\n        }\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.setState({\n      mounted: true\n    });\n  }\n\n  generateDOM() {\n    return _.map(this.state.layouts[this.state.currentBreakpoint], l => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"hide-button\",\n          onClick: this.onPutItem.bind(this, l),\n          children: /*#__PURE__*/_jsxDEV(PlusCircle, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text\",\n          children: l.i\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 12\n        }, this)]\n      }, l.i, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this);\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(NavBar, {\n        onNewLayout: this.onNewLayout,\n        onTakeItem: this.onTakeItem,\n        onClearItems: this.onClearItems,\n        items: this.state.block[this.state.currentBreakpoint] || []\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ResponsiveReactGridLayout, { ...this.props,\n        layouts: this.state.layouts,\n        onBreakpointChange: this.onBreakpointChange,\n        onLayoutChange: this.onLayoutChange // WidthProvider option\n        ,\n        measureBeforeMount: false // I like to have it animate on mount. If you don't, delete `useCSSTransforms` (it's default `true`)\n        // and set `measureBeforeMount={true}`.\n        ,\n        useCSSTransforms: this.state.mounted,\n        compactType: this.state.compactType,\n        preventCollision: !this.state.compactType,\n        children: this.generateDOM()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 7\n    }, this);\n  }\n\n}\nCanvasLayout.defaultProps = {\n  className: \"layout\",\n  rowHeight: 30,\n  onLayoutChange: function () {},\n  cols: {\n    lg: 12,\n    md: 9,\n    sm: 6,\n    xs: 4,\n    xxs: 2\n  },\n  initialLayout: generateLayout()\n};\n\nvar _c;\n\n$RefreshReg$(_c, \"ResponsiveReactGridLayout\");","map":{"version":3,"sources":["/Users/homer/ignite/src/CanvasLayout.js"],"names":["React","_","Responsive","WidthProvider","PlusCircle","NavBar","ResponsiveReactGridLayout","generateLayout","map","range","item","i","width","y","w","h","Math","ceil","random","x","floor","toString","CanvasLayout","Component","state","currentBreakpoint","compactType","mounted","layouts","lg","props","initialLayout","block","onBreakpointChange","breakpoint","setState","prevState","onClearItems","forEach","onTakeItem","console","log","filter","onPutItem","onLayoutChange","layout","onNewLayout","md","sm","xs","xxs","componentDidMount","generateDOM","l","bind","render","defaultProps","className","rowHeight","cols"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport _ from \"lodash\";\nimport { Responsive, WidthProvider } from \"react-grid-layout\";\nimport \"./css/react-grid-layout-style.css\";\nimport \"./css/react-resizable-style.css\";\nimport { PlusCircle } from \"react-bootstrap-icons\";\nimport NavBar from \"./Components/NavBar\";\nconst ResponsiveReactGridLayout = WidthProvider(Responsive);\n\nfunction generateLayout() {\n  return _.map(_.range(0, 41), function (item, i) {\n    const width = 12; // width of entire canvas (should ideally be multiple of 4 and 3)\n    const y = 4;\n    const w = 3;\n    var h = Math.ceil(Math.random() * 6) + 1; // variability in height\n    var x = (_.random(0, y - 1) * w) % width;\n    return {\n      x: x,\n      y: Math.floor(i / y) * h,\n      w: w,\n      h: h,\n      i: i.toString(),\n    };\n  });\n}\n\nexport default class CanvasLayout extends React.Component {\n  static defaultProps = {\n    className: \"layout\",\n    rowHeight: 30,\n    onLayoutChange: function () {},\n    cols: { lg: 12, md: 9, sm: 6, xs: 4, xxs: 2 },\n    initialLayout: generateLayout(),\n  };\n\n  state = {\n    currentBreakpoint: \"lg\",\n    compactType: \"vertical\",\n    mounted: false,\n    layouts: { lg: this.props.initialLayout },\n    block: { lg: [] },\n  };\n\n  componentDidMount() {\n    this.setState({ mounted: true });\n  }\n\n  generateDOM() {\n    return _.map(this.state.layouts[this.state.currentBreakpoint], (l) => {\n      return (\n        <div key={l.i}>\n          <div className=\"hide-button\" onClick={this.onPutItem.bind(this, l)}>\n            <PlusCircle />\n          </div>\n          {<span className=\"text\">{l.i}</span>}\n        </div>\n      );\n    });\n  }\n\n  onBreakpointChange = (breakpoint) => {\n    this.setState((prevState) => ({\n      currentBreakpoint: breakpoint,\n      block: {\n        ...prevState.block,\n        [breakpoint]:\n          prevState.block[breakpoint] ||\n          prevState.block[prevState.currentBreakpoint] ||\n          [],\n      },\n    }));\n  };\n\n  onClearItems = () => {\n    (this.state.block[this.state.currentBreakpoint] || []).forEach((item) => {\n      this.onTakeItem(item);\n    });\n    console.log(\"clear\");\n  };\n\n  onTakeItem = (item) => {\n    this.setState((prevState) => ({\n      block: {\n        ...prevState.block,\n        [prevState.currentBreakpoint]: prevState.block[\n          prevState.currentBreakpoint\n        ].filter(({ i }) => i !== item.i),\n      },\n      layouts: {\n        ...prevState.layouts,\n        [prevState.currentBreakpoint]: [\n          ...prevState.layouts[prevState.currentBreakpoint],\n          item,\n        ],\n      },\n    }));\n  };\n\n  onPutItem = (item) => {\n    this.setState((prevState) => {\n      return {\n        block: {\n          ...prevState.block,\n          [prevState.currentBreakpoint]: [\n            ...(prevState.block[prevState.currentBreakpoint] || []),\n            item,\n          ],\n        },\n        layouts: {\n          ...prevState.layouts,\n          [prevState.currentBreakpoint]: prevState.layouts[\n            prevState.currentBreakpoint\n          ].filter(({ i }) => i !== item.i),\n        },\n      };\n    });\n  };\n\n  onLayoutChange = (layout, layouts) => {\n    this.props.onLayoutChange(layout, layouts);\n    this.setState({ layouts });\n  };\n\n  onNewLayout = () => {\n    this.setState({\n      layouts: {\n        lg: generateLayout(),\n        md: generateLayout(),\n        sm: generateLayout(),\n        xs: generateLayout(),\n        xxs: generateLayout(),\n      },\n    });\n  };\n\n  render() {\n    return (\n      <div>\n        <NavBar\n          onNewLayout={this.onNewLayout}\n          onTakeItem={this.onTakeItem}\n          onClearItems={this.onClearItems}\n          items={this.state.block[this.state.currentBreakpoint] || []}\n        />\n\n        <ResponsiveReactGridLayout\n          {...this.props}\n          layouts={this.state.layouts}\n          onBreakpointChange={this.onBreakpointChange}\n          onLayoutChange={this.onLayoutChange}\n          // WidthProvider option\n          measureBeforeMount={false}\n          // I like to have it animate on mount. If you don't, delete `useCSSTransforms` (it's default `true`)\n          // and set `measureBeforeMount={true}`.\n          useCSSTransforms={this.state.mounted}\n          compactType={this.state.compactType}\n          preventCollision={!this.state.compactType}\n        >\n          {this.generateDOM()}\n        </ResponsiveReactGridLayout>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}